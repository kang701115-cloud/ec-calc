<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>양액 EC 계산기</title>
  <style>
    :root{
      --brand:#007BFF;
      --brand-dark:#0056b3;
      --card-w: 560px;
    }
    *{box-sizing:border-box}
    body{
      font-family: Arial, sans-serif;
      background:#f9f9f9;
      margin:0; padding:24px;
      text-align:center;
    }
    h1{color:var(--brand); font-size:2.4rem; margin:0 0 24px}
    .wrap{max-width:var(--card-w); margin:0 auto}
    .card{
      background:#fff; padding:24px; margin:18px auto;
      border-radius:14px; box-shadow:0 6px 14px rgba(0,0,0,.08);
      text-align:left; font-size:1.12rem;
    }
    .card h2{margin:0 0 12px; font-size:1.35rem; color:#222}
    label{display:block; margin-top:16px; font-weight:700}
    .row{display:flex; gap:12px}
    .row > div{flex:1}
    input, select{
      width:100%; padding:14px; margin-top:8px;
      border:1px solid #d7d7d7; border-radius:10px; font-size:1.1rem;
      background:#fff;
    }
    .hint{font-size:.95rem; color:#666; margin-top:6px}
    .btn{
      margin-top:18px; padding:14px 18px; width:100%;
      background:var(--brand); color:#fff; border:none;
      border-radius:10px; cursor:pointer; font-size:1.15rem;
    }
    .btn:hover{background:var(--brand-dark)}
    .btn-row{display:flex; gap:10px; margin-top:16px}
    .btn-sub{flex:1; padding:12px 14px; border-radius:10px; border:1px solid #ddd; background:#fff; cursor:pointer; font-size:1rem}
    .btn-sub:hover{border-color:#bbb}
    .result{margin-top:14px; font-weight:700; color:#333; font-size:1.25rem; white-space:pre-line}
    .unit-toggle{display:flex; gap:10px; align-items:center; margin-top:10px}
    .unit-toggle label{margin:0; font-weight:600}
    .save-pill{
      display:inline-flex; gap:8px; align-items:center; margin-top:10px;
      background:#eef6ff; color:#134d9a; padding:8px 12px; border-radius:999px; font-size:.95rem;
    }
    @media (max-width:560px){
      body{padding:18px}
      h1{font-size:1.9rem}
      .card{padding:18px}
    }
  </style>
</head>
<body>
  <h1>양액 EC 계산기</h1>
  <div class="wrap">

    <!-- 기준 설정 -->
    <div class="card" id="baselineCard">
      <h2>기준 설정</h2>
      <div class="row">
        <div>
          <label for="baseNutrient">기준 양액량 (µL)</label>
          <input type="number" id="baseNutrient" step="0.1" placeholder="예: 250">
        </div>
        <div>
          <label for="baseWater">기준 물량 (L)</label>
          <input type="number" id="baseWater" step="0.01" placeholder="예: 0.5">
        </div>
      </div>
      <div class="row">
        <div>
          <label for="baseEC">기준 EC 증가량 (mS/cm)</label>
          <input type="number" id="baseEC" step="0.01" placeholder="예: 0.75">
        </div>
      </div>
      <div class="btn-row">
        <button class="btn-sub" id="saveBaselineBtn">기준 저장</button>
        <button class="btn-sub" id="resetBaselineBtn">기본값으로</button>
      </div>
      <div class="hint">예) “양액 250 µL → 물 0.5 L → EC +0.75”</div>
      <div class="save-pill" id="saveStatus" style="display:none;">✅ 저장됨</div>
    </div>

    <!-- 기능 A -->
    <div class="card">
      <h2>기능 A — 목표 EC ➝ 필요한 양액량</h2>
      <label for="targetEC">목표 EC (mS/cm)</label>
      <input type="number" id="targetEC" step="0.01" placeholder="예: 1.2">
      <label for="waterVolumeA">물의 양 (L)</label>
      <input type="number" id="waterVolumeA" step="0.01" placeholder="예: 0.5">
      <div class="unit-toggle">
        <label>표시 단위:</label>
        <select id="unitA">
          <option value="uL">µL</option>
          <option value="mL">mL</option>
        </select>
      </div>
      <button class="btn" onclick="calculateA()">계산하기</button>
      <div class="result" id="resultA"></div>
    </div>

    <!-- 기능 B -->
    <div class="card">
      <h2>기능 B — 양액량 ➝ 예상 EC</h2>
      <label for="nutrientVolume">양액 주입량</label>
      <div class="row">
        <div>
          <input type="number" id="nutrientVolume" step="0.1" placeholder="예: 250">
        </div>
        <div>
          <select id="unitB">
            <option value="uL">µL</option>
            <option value="mL">mL</option>
          </select>
        </div>
      </div>
      <label for="waterVolumeB">물의 양 (L)</label>
      <input type="number" id="waterVolumeB" step="0.01" placeholder="예: 0.5">
      <button class="btn" onclick="calculateB()">계산하기</button>
      <div class="result" id="resultB"></div>
    </div>

    <!-- 기능 C -->
    <div class="card">
      <h2>기능 C — N:K 비율 ➝ 황산칼륨 수용액량</h2>
      <label for="volumeA">A액 부피 (µL)</label>
      <input type="number" id="volumeA" step="1" placeholder="예: 500">
      <label for="volumeB">B액 부피 (µL)</label>
      <input type="number" id="volumeB" step="1" placeholder="예: 500">
      <label for="targetRatio">목표 N:K 비율 (예: 1.0)</label>
      <input type="number" id="targetRatio" step="0.01" placeholder="예: 1.2">
      <button class="btn" onclick="calculateC()">계산하기</button>
      <div class="result" id="resultC"></div>
    </div>

  </div>

  <script>
    const DEFAULTS = {
      baseNutrient: 250,
      baseWater: 0.5,
      baseEC: 0.4
    };

    function loadBaseline(){
      const stored = JSON.parse(localStorage.getItem('ecBaseline')||'{}');
      document.getElementById('baseNutrient').value = stored.baseNutrient ?? DEFAULTS.baseNutrient;
      document.getElement
  <script src="script.js"></script>
